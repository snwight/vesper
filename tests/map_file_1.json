{
    "tablesprop" : "type",
    "idpattern" : "http://souzis.com/",
    "tables": {
        "track": {
            "id": ["trackid"],
            "properties": [
		"*",
		{
		    "title": "trackname"
		},
		{
		    "date": "trackdate"
		},
		{
		    "view_ref": {
			"view": {
			    "name": "artist_discography",
			    "column": "trackname",
			    "key": "id"
			}
		    }
		},
                {
                    "track_artist_ref": {
                        "references": {
                            "key": "trackid",
                            "table": "track_artist",
                            "value": {
                                "artistid": {
                                    "references": "artist"
                                }
                            }
                        }
                    }
                },
                {
                    "album_tracks_ref": {
                        "references": {
                            "key": "trackid",
                            "table": "album_tracks",
                            "value": {
                                "albumid": {
                                    "references": "album"
                                }
                            }
                        }
                    }
                }
            ]
        },
        "album": {
            "id": ["albumid"],
            "properties": [
		"*",
 		{
		    "title": "albumname"
		},
 		{
		    "label": "albumlabel"
		},
		{
		    "view_ref": {
			"view": {
			    "name": "artist_discography",
			    "column": "albumname",
			    "key": "id"
			}
		    }
		},
                {
                    "album_tracks_ref": {
                        "references": {
                            "key": "albumid", 
                            "table": "album_tracks", 
                            "value": {
                                "trackid": {
                                    "references": "track"
                                }
                            }
                        }
                    }
                }
            ]
        },
        "artist": {
            "id": ["artistid"],
            "properties": [
                "*",
		{
		    "name": "artistname"
		},
		{
		    "birthdate": "artistbday"
		},
		{
		    "gender": "artistgender"
		},
		{
		    "artistid": {
			"view": "artist_discography"
		    }
		},
                {
                    "track_artist_ref": {
                        "references": {
                            "key": "artistid",
                            "table": "track_artist",
                            "value": {
                                "trackid": {
                                    "references": "track"
                                }
                            }
                        }
                    }
                }
            ]
        },
	"label": {
	    "id": ["labelid"],
	    "properties": [
		"*",
		{
		    "album_label_ref": {
			"references": {
			    "table": "album_label",
			    "value": {
				"albumid": {
				    "references": "album"
				}
			    },
			    "key": "labelid"
			}
		    }
		}
	    ]
	},
 	"artist_discography": {
            "properties": [
                "*"
            ],
            "readonly": true
        }
    }
}
